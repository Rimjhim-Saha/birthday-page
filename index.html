<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday, Champ!</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0; padding: 0; min-height: 100vh;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(120deg, #e1f5fe 0%, #fff8e1 100%);
      color: #23436c;
      overflow-x: hidden;
    }
    .float-shape {
      position: fixed; z-index: 20;
      pointer-events: none; opacity: 0.25;
      animation: floaty 8s infinite alternate linear;
    }
    .float1 { left: 10vw; top: 12vh; width: 60px; animation-delay: 0s; }
    .float2 { left: 75vw; top: 7vh; width: 42px; animation-delay: 2.2s; }
    .float3 { left: 20vw; top: 70vh; width: 56px; animation-delay: 1.1s; }
    .float4 { left: 80vw; top: 80vh; width: 38px; animation-delay: 3s; }
    .float5 { left: 45vw; top: 38vh; width: 50px; animation-delay: 4s; }
    @keyframes floaty {
      0% { transform: translateY(0) scale(1);}
      100% { transform: translateY(-40px) scale(1.08);}
    }
    #fireworks-canvas {
      position: fixed; left: 0; top: 0; width: 100vw; height: 100vh;
      z-index: 1000; pointer-events: none; display: none;
    }
    #front-page {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      min-height: 100vh; z-index: 1;
      animation: fadein 1.6s cubic-bezier(.26,1.23,.45,1);
      background: none;
    }
    @keyframes fadein {
      from { opacity: 0; transform: scale(0.94);}
      to   { opacity: 1; transform: scale(1);}
    }
    .bday-title {
      font-size: 3em; font-family: 'Pacifico', cursive;
      margin-top: 60px; margin-bottom: 24px;
      color: #1976d2; letter-spacing: 0.03em;
      text-shadow: 2px 8px 46px #1976d288;
      animation: bounce-in 1.2s .2s backwards;
      filter: drop-shadow(0 2px 12px #fffde7cc);
    }
    @keyframes bounce-in {
      0% { transform: translateY(-40px) scale(0.85);}
      75% { transform: translateY(6px) scale(1.06);}
      100% { transform: translateY(0) scale(1);}
    }
    .subtitle {
      font-size: 1.35em; color: #0077be;
      margin-bottom: 30px; max-width: 400px; text-align: center;
      letter-spacing: 0.06em; animation: fadein .8s 1.1s backwards;
    }
    #start-btn {
      font-size: 2em; padding: 20px 48px;
      border: none; border-radius: 38px;
      background: linear-gradient(135deg, #1976d2 0%, #ffd600 70%);
      color: white; box-shadow: 0 8px 36px 8px #ffd60067, 0 1px 14px #1976d2ad;
      cursor: pointer; font-family: 'Pacifico', cursive; font-weight: 700;
      transition: background 0.22s, color 0.22s, box-shadow 0.24s, transform 0.25s;
      animation: glow-btn 1.7s 1.6s infinite alternate;
    }
    #start-btn:hover, #start-btn:focus {
      background: linear-gradient(120deg, #ffd600 0%, #1976d2 90%);
      color: #23436c;
      transform: scale(1.07);
      box-shadow: 0 12px 64px 8px #ffd600dd, 0 1px 26px #1976d2c9;
    }
    @keyframes glow-btn {
      from { box-shadow: 0 8px 32px 0px #ffd6003c;}
      to   { box-shadow: 0 18px 50px 4px #ffd600c2;}
    }
    #main-content {
      display: none; flex-direction: column; align-items: center; justify-content: center;
      min-height: 100vh; width: 100vw;
    }
    .cake {
      width: 260px; margin: 22px auto 0;
      display: none;
      animation: cakedelicious 1.7s infinite alternate cubic-bezier(.4,1.6,.3,1.3);
      filter: drop-shadow(0 16px 19px #ffd60033);
    }
    @keyframes cakedelicious {
      0%{transform: translateY(-8px) scale(1);}
      60%{transform: translateY(6px) scale(1.03,0.98);}
      80%{transform: translateY(-4px) scale(1.06,0.96);}
      100%{transform: translateY(7px) scale(1.01,1.01);}
    }
    .cake-sparkle {
      animation: sparklecake 1.4s infinite alternate;
      filter: drop-shadow(0 0 18px #fff9c4);
    }
    @keyframes sparklecake {
      0%,100%{opacity:0.77;}
      30%{opacity:1;filter:drop-shadow(0 0 42px #fff9c4);}
    }
    .candle { animation: flicker 0.65s infinite alternate;}
    @keyframes flicker {
      0%  { filter: brightness(.94) drop-shadow(0 0 12px #fff176f6); transform: scaleY(1.1);}
      80% { filter: brightness(1.28) drop-shadow(0 0 22px #fff176); transform: scaleY(1);}
    }
    #cut-btn {
      display: none; font-size: 1.22em; padding: 14px 35px; margin-top: 23px;
      border: none; background: linear-gradient(135deg, #1976d2, #ffd600 87%);
      color: white; border-radius: 18px; cursor: pointer;
      box-shadow: 0px 8px 16px #ffd60044;
      font-family: 'Montserrat', sans-serif; font-weight: 700;
      transition: background 0.22s, transform 0.19s;
      animation: fadein 0.6s backwards;
    }
    #cut-btn:hover {
      background: linear-gradient(90deg, #ffd600 40%, #1976d2 80%);
      color: #23436c; transform: scale(1.06);
    }
    #birthday-message {
      display: none; font-size: 2.5em; margin: 39px 0 8px;
      width: 0; white-space: nowrap; overflow: hidden;
      border-right: 3px solid #1976d2;
      font-family: 'Pacifico', cursive; color: #1976d2;
      animation: typing 2.1s steps(26, end) forwards;
    }
    @keyframes typing {
      from { width:0 }
      to { width:23ch }
    }
    .cursor {
      border-right: 3px solid #1976d2; display: inline-block;
      animation: blink-cursor 0.8s 1;
    }
    @keyframes blink-cursor {
      0%, 100% { border-color: transparent;}
      50% { border-color: #1976d2;}
    }
    .card {
      width: 360px; min-height: 430px; margin: 42px auto 0;
      perspective: 1200px; display: none;
    }
    .card-inner {
      position: relative; width: 100%; min-height: 430px; text-align: center;
      transition: transform 1s; transform-style: preserve-3d;
    }
    .card:hover .card-inner { transform: rotateY(180deg);}
    .card-front, .card-back {
      position: absolute; width: 100%; min-height: 430px;
      backface-visibility: hidden; border-radius: 26px;
      box-shadow: 0 6px 27px rgba(33,150,243,0.12);
    }
    .card-front {
      background: linear-gradient(110deg, #e3f2fd 80%, #fffde7 100%);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      padding: 34px 22px 20px 22px; animation: fadein 1s 0.3s backwards;
    }
    .card-front img {
      width: 96%; height: 240px; object-fit: cover; border-radius: 19px;
      box-shadow: 0 6px 28px #ffd6005c; margin-bottom: 19px;
    }
    .card-front h2 {
      font-size: 1.24em; font-family:'Pacifico',cursive; color: #1976d2; margin: 8px 0 0 0;
    }
    .card-back {
      background: linear-gradient(90deg, #fff8e1 60%, #e1f5fe 100%);
      transform: rotateY(180deg); display: flex; flex-direction: column; justify-content: center; align-items: center;
      padding: 33px 29px;
    }
    .card-back p {
      font-size: 1.18em; color: #23436c; margin-bottom: 19px; opacity: 0.95;
    }
    .signature {
      margin-top: 18px; font-size: 1em;
      font-family: 'Pacifico', cursive; color: #1976d2;
    }
    audio { display: none; }
    @media (max-width: 550px) {
      .card, .card-front, .card-back { width: 98vw; max-width: 99vw; }
      .card .card-inner { min-height: 330px; }
      .cake { width: 97vw; max-width: 99vw;}
    }
  </style>
</head>
<body>
  <!-- Floating Shapes -->
  <svg class="float-shape float1"><circle cx="30" cy="30" r="30" fill="#ffd600"/></svg>
  <svg class="float-shape float2"><rect width="40" height="40" rx="12" fill="#1976d2"/></svg>
  <svg class="float-shape float3"><ellipse cx="25" cy="25" rx="24" ry="12" fill="#fff9c4"/></svg>
  <svg class="float-shape float4"><polygon points="0,20 20,0 40,20 20,40" fill="#42a5f5"/></svg>
  <svg class="float-shape float5"><circle cx="24" cy="24" r="12" fill="#0077be"/></svg>

  <!-- Fireworks Canvas -->
  <canvas id="fireworks-canvas"></canvas>

  <!-- Front Page -->
  <section id="front-page">
    <div class="bday-title">Hey Champ! üéà</div>
    <div class="subtitle">Get ready for your awesome birthday surprise!</div>
    <button id="start-btn">Start the Celebration üöÄ</button>
  </section>

  <!-- Main Content -->
  <section id="main-content">
    <div class="cake" id="cake">
      <!-- SVG Cake (unchanged for brevity, retain as per your sample) -->
      <!-- ...Cake SVG here... -->
    </div>
    <button id="cut-btn">Cut the Cake üéÇ</button>
    <h1 id="birthday-message"><span id="typed-text"></span><span class="cursor" id="cursor"></span></h1>
    <div class="card" id="birthday-card">
      <div class="card-inner">
        <div class="card-front">
          <img src="b.jpeg" alt="Happy Birthday!">
          <h2>You‚Äôre Awesome, Never Forget It! ‚ú®</h2>
        </div>
        <div class="card-back">
          <p>
            Happy birthday to the most amazing guy and the best person one could wish for.<br>
            May your year bring new victories‚Äîand tons of fun! Wishing someone who makes the world brighter just by being in it a magical day. Keep smiling, keep shining, and never stop being wonderful. Happy Birthday! üíùüéÇüéâ
          </p>
          <p>
            Here‚Äôs to epic adventures, inside jokes, and your success.<br>
            <span style="font-size:1.3em;">üéâ‚öΩüéÆ</span>
          </p>
          <div class="signature">‚Äî From Your Favorite Person Momo</div>
        </div>
      </div>
    </div>
    <audio id="music" src="cut.mp3" autoplay loop></audio>
    <audio id="cut-sound" src="cut1.mp3"></audio>
  </section>

  <script>
    // ----- Fireworks Effect -----
    const fireworksCanvas = document.getElementById('fireworks-canvas');
    const fireworksCtx = fireworksCanvas.getContext('2d');
    let fireworks = [], running = false;

    function resizeFireworks() {
      fireworksCanvas.width = window.innerWidth;
      fireworksCanvas.height = window.innerHeight;
    }
    resizeFireworks();
    window.addEventListener('resize', resizeFireworks);

    function randomColor() {
      const colors = ['#ffd600', '#1976d2', '#ff5252', '#fff176', '#42a5f5', '#ffb300', '#43a047', '#ffeb3b', '#fff', 'cyan', 'violet'];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function Firework(sx, sy, tx, ty) {
      this.x = sx; this.y = sy; this.sx = sx; this.sy = sy; this.tx = tx; this.ty = ty;
      this.distance = Math.hypot(tx - sx, ty - sy);
      this.distanceTraveled = 0;
      this.angle = Math.atan2(ty - sy, tx - sx);
      this.speed = 3 + Math.random() * 2;
      this.trail = [];
      this.hue = Math.floor(Math.random() * 360);
      this.targetRadius = 4;
    }
    Firework.prototype.update = function(index) {
      this.trail.push({ x: this.x, y: this.y });
      if (this.trail.length > 9) this.trail.shift();
      let vx = Math.cos(this.angle) * this.speed;
      let vy = Math.sin(this.angle) * this.speed;
      this.distanceTraveled += Math.hypot(vx, vy);

      if (this.distanceTraveled >= this.distance) {
        createParticles(this.tx, this.ty, this.hue);
        fireworks.splice(index, 1);
      } else {
        this.x += vx; this.y += vy;
      }
    }
    Firework.prototype.draw = function () {
      fireworksCtx.beginPath();
      fireworksCtx.moveTo(this.trail[0]?.x || this.x, this.trail[0]?.y || this.y);
      for (const pos of this.trail) fireworksCtx.lineTo(pos.x, pos.y);
      fireworksCtx.strokeStyle = `hsl(${this.hue},97%,60%)`;
      fireworksCtx.lineWidth = 2.3;
      fireworksCtx.stroke();

      fireworksCtx.beginPath();
      fireworksCtx.arc(this.tx, this.ty, this.targetRadius, 0, 2 * Math.PI);
      fireworksCtx.strokeStyle = randomColor();
      fireworksCtx.stroke();
    };

    let particles = [];
    function createParticles(x, y, baseHue) {
      const particleCount = 32 + Math.floor(Math.random() * 20);
      for (let i = 0; i < particleCount; ++i)
        particles.push(new Particle(x, y, baseHue));
    }
    function Particle(x, y, baseHue) {
      const angle = Math.random() * Math.PI * 2;
      const speed = Math.random() * 6 + 2.5;
      this.x = x; this.y = y; this.vx = Math.cos(angle) * speed; this.vy = Math.sin(angle) * speed;
      this.alpha = 1;
      this.decay = 0.01 + Math.random() * 0.017;
      this.color = `hsl(${baseHue + Math.random() * 60},98%,65%)`;
    }
    Particle.prototype.update = function (index) {
      this.x += this.vx;
      this.y += this.vy;
      this.vy += 0.015;
      this.alpha -= this.decay;
      if (this.alpha <= 0) particles.splice(index, 1);
    }
    Particle.prototype.draw = function () {
      fireworksCtx.save();
      fireworksCtx.globalAlpha = Math.max(this.alpha, 0);
      fireworksCtx.beginPath();
      fireworksCtx.arc(this.x, this.y, 2.6, 0, 2 * Math.PI);
      fireworksCtx.fillStyle = this.color;
      fireworksCtx.shadowBlur = 18;
      fireworksCtx.shadowColor = "#fff";
      fireworksCtx.fill();
      fireworksCtx.restore();
    }

    function fireworksLoop() {
      if (!running) return;
      fireworksCtx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);

      // Shoot fireworks at intervals
      if (Math.random() < 0.055) {
        let startX = Math.random() * fireworksCanvas.width * 0.5 + fireworksCanvas.width * 0.25;
        let startY = fireworksCanvas.height;
        let targetX = Math.random() * fireworksCanvas.width * 0.7 + fireworksCanvas.width * 0.15;
        let targetY = fireworksCanvas.height * 0.18 + Math.random() * fireworksCanvas.height * 0.38;
        fireworks.push(new Firework(startX, startY, targetX, targetY));
      }
      // Update/draw all fireworks and particles
      for (let i = fireworks.length - 1; i >= 0; i--) { fireworks[i].draw(); fireworks[i].update(i);}
      for (let j = particles.length - 1; j >= 0; j--) { particles[j].draw(); particles[j].update(j);}
      requestAnimationFrame(fireworksLoop);
    }

    function showFireworks(duration = 2000) {
      fireworksCanvas.style.display = 'block';
      running = true;
      resizeFireworks();
      fireworksLoop();
      setTimeout(() => {
        running = false;
        setTimeout(() => fireworksCanvas.style.display = 'none', 400);
      }, duration);
    }

    // --- Celebration Flow ---
    document.getElementById('start-btn').addEventListener('click', () => {
      document.getElementById('front-page').style.display = 'none';
      document.getElementById('main-content').style.display = 'flex';
      document.getElementById('cake').style.display = 'block';
      document.getElementById('cut-btn').style.display = 'inline-block';
      document.getElementById('music').play();
      showFireworks(1800);
    });

    // Typing animation for birthday message
    const birthdayText = "Happy Birthday, Champ! üéâ";
    const typedTextSpan = document.getElementById('typed-text');
    const cursor = document.getElementById('cursor');
    let i = 0;
    function typeLetter() {
      if (i < birthdayText.length) {
        typedTextSpan.textContent += birthdayText.charAt(i);
        i++;
        setTimeout(typeLetter, 65);
      } else {
        cursor.style.animation = "blink-cursor 0.8s 1";
        setTimeout(() => {
          cursor.style.animation = "none";
          cursor.style.borderColor = "#1976d2";
        }, 750);
      }
    }

    document.getElementById('cut-btn').addEventListener('click', () => {
      document.getElementById('cake').style.display = 'none';
      document.getElementById('cut-btn').style.display = 'none';
      document.getElementById('birthday-message').style.display = 'block';
      document.getElementById('birthday-card').style.display = 'block';
      document.getElementById('cut-sound').play();
      showFireworks(2300);
      typeLetter();
    });
  </script>
</body>
</html>
